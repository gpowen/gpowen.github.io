---
title: "Lab04"
author: "Graham Owen"
date: "2/10/2021"
output: html_document
---

# Prerequisite: use preload function to get tidyverse and descr load them

```{r}
library(tidyverse)
library(descr) # Describe attributes of objects/variables
```

# Explore the diamonds dataset

```{r}
?diamonds
```

# Examine the variables using the class function

```{r}
class(cut)
sapply(diamonds,class)
```

# Frequency table from descr package

```{r}
attach(diamonds)
freq(cut,plot=F) # can add a plot by default
```

# Frequency table, alternative method

```{r}
with(diamonds, {freq(cut, plot=T)})
```

# Create tibble object out of diamonds dataset

```{r}
diam_tb=as_tibble(diamonds)
class(diam_tb) # How is this different from a data frame?
```

# Plot the bar chart using ggplot2

```{r}
ggplot(data = diamonds) +
  geom_bar(mapping = aes(x = cut)) 
```

# Better plot with percentage on y axis

```{r}
ggplot(data = diamonds,aes(cut)) +
  geom_bar(mapping = aes(y = (..count..)/sum(..count..))) + theme_bw() +
  scale_y_continuous(labels=scales::percent) +
  ylab("Percent")
```

# Exercise 1
# Save the chart into PNG, PDF and SVG formats
# What are the differences among all these formats?

# Plot another variable carat

```{r}
ggplot(data = diam_tb) +
  geom_histogram(mapping = aes(x = carat), binwidth = 0.5)
```

# Exercise 2
# Can you improve the visualization of this chart?
# What is the difference between barchart and histogram?

# Subsetting the dataset

```{r}
smaller <- diamonds %>% 
  filter(carat < 3)
```

# Histogram of smaller dataset

```{r}
ggplot(data = smaller, mapping = aes(x = carat)) +
  geom_histogram(binwidth = 0.1)
```

# Polygon

```{r}
ggplot(data = smaller, mapping = aes(x = carat, colour = cut)) +
  geom_freqpoly(binwidth = 0.1) + theme_bw() 
```

# Exercise 3
# Can you change colors?
# Hint: use the RcolorBrewer package

# Continuous variables

```{r}
ggplot(data = faithful) + 
  geom_point(mapping = aes(x = eruptions, y = waiting))
```

# Exercise 4
# What method you will use to analyze:
# Dependent variable: continuous, Independent variable: discrete
# Dependent variable: discrete, Independent variable: continuous
# Dependent variable: continuous, Independent variable: continuous





